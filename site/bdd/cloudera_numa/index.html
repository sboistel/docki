<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>How to identify if NUMA is enabled - Dockimentation</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "How to identify if NUMA is enabled";
    var mkdocs_page_input_path = "bdd/cloudera_numa.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Dockimentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Database</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../cloudera/">Cloudera</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../hadoop/">Hadoop</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../mysql/">MySQL</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../oracle/">Oracle</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Cloud</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../cloud/cloud_infrastructure/">Cloud Infrastructure</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../cloud/aws/">Amazon Web Services</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../cloud/gcp/">Google Cloud Platform</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../cloud/mz/">Microsoft Azure</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../cloud/oci/">Oracle Cloud Infrastructure</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">DevOPS</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../dev/Ansible/ansible/">Ansible</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../dev/containers/terraform/">Terraform</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../dev/containers/Docker-%26-Kubernetes/">Containers</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Code</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../dev/code/Git/">Git</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../dev/code/Perl/">Perl</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../dev/code/Python/">Python</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Supervision</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../monitoring/centreon/">Centreon</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../monitoring/nagios/">Nagios</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../monitoring/elk/">ELK</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Hypervision</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../monitoring/pve/">Proxmox-VE</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../monitoring/kvm/">KVM</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../monitoring/esxi/">VMware ESXi</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Application</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../application/account_manager/">Account Manager</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../application/guacamole/">Guacamole</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Automation</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../application/ui-path/">UI-Path</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../application/bareos/">Bareos</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../application/netbox/">Netbox</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Remote</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../application/vnc/">VNC</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Network</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../application/openvpn/">OpenVPN</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Operating System</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="#">Linux</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="#">System</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../os/linux/system/">System</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../os/linux/vol/">Volumes</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../os/linux/desktop-environement/">Desktop environement</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../os/linux/packages/">Packages</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../os/linux/analyse/">Analyses</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../os/linux/regular-parsing/">Regular Parsing</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Application</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../os/linux/vim/">VIM</a>
                </li>
    </ul>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Windaub</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../os/windows/account/">Account</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">System</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../os/windows/sys/">System</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../os/windows/boot/">boot</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../os/windows/dsk/">Disk</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Application & Features</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../os/windows/wsl/">WSL</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../os/windows/chrome/">Google Chrome</a>
                </li>
    </ul>
                </li>
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../about/">About</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Dockimentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
    
    <li>How to identify if NUMA is enabled</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="how-to-identify-if-numa-is-enabled">How to identify if NUMA is enabled</h1>
<p>NUMA has to enabled in the BIOS. If dmesg does not have records of numa initialization during bootup, then it is possible that NUMA related messages in the kernel ring buffer might have been overwritten.</p>
<h1 id="numa-enabled-systems">NUMA Enabled Systems</h1>
<p>If NUMA is enabled on BIOS, then execute the command ‘numactl –hardware‘ to list inventory of available nodes on the system. Below is example output of numactl –hardware on a system which has NUMA.</p>
<blockquote>
<p>numactl --hardware</p>
</blockquote>
<pre><code class="language-bash">available: 2 nodes (0-1)
node 0 cpus: 0 1 2 3 4 5 6 7 16 17 18 19 20 21 22 23
node 0 size: 8157 MB
node 0 free: 88 MB
node 1 cpus: 8 9 10 11 12 13 14 15 24 25 26 27 28 29 30 31
node 1 size: 8191 MB
node 1 free: 5176 MB
node distances:
node   0   1 
  0:  10  20 
  1:  20  10
</code></pre>
<h1 id="numa-disabled-systems">NUMA Disabled Systems</h1>
<h2 id="1-if-numa-is-disabled-on-bios-then-the-command-numactl-show-does-not-show-multiple-nodes">1. If NUMA is disabled on BIOS, then the command ‘numactl –show‘ does not show multiple nodes.</h2>
<blockquote>
<p>numactl --show</p>
</blockquote>
<pre><code class="language-bash">policy: default
preferred node: current
physcpubind: 0 1 2 3 4 5 6 7 8 9 10 11
cpubind: 0
nodebind: 0
membind: 0
</code></pre>
<h2 id="2-the-command-numactl-hardware-also-does-not-list-multiple-nodes">2. The command ‘numactl –hardware‘ also does not list multiple nodes.</h2>
<pre><code class="language-bash">available: 1 nodes (0)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11
node 0 size: 65525 MB
node 0 free: 17419 MB
node distances:
node   0
  0:  10
</code></pre>
<h2 id="3-if-the-server-does-not-have-numa-support-or-if-the-bios-option-is-not-enabled-then-the-following-messages-will-be-seen-in-dmesg">3. If the server does not have NUMA support or if the BIOS option is not enabled, then the following messages will be seen in dmesg</h2>
<pre><code class="language-bash">No NUMA configuration found
Faking a node at 0000000000000000-0000001027fff000
</code></pre>
<h2 id="4-if-acpi-is-disabled-that-will-also-disable-numa-verify-that-acpi-is-not-disabled-by-a-grubconf-kernel-parameter-and-remove-it-if-found">4. If ACPI is disabled, that will also disable NUMA; verify that ACPI is not disabled by a grub.conf kernel parameter and remove it if found:</h2>
<pre><code class="language-bash">$ grep acpi=off /proc/cmdline
</code></pre>
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
