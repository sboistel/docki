
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Docki wiki github pages">
      
      
        <meta name="author" content="BOISTEL Samuel">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>System - Dockimentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#system" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Dockimentation" class="md-header__button md-logo" aria-label="Dockimentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Dockimentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              System
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Dockimentation" class="md-nav__button md-logo" aria-label="Dockimentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Dockimentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="." class="md-nav__link">
        Linux
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Windows
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Windows" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Windows
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Windows/" class="md-nav__link">
        Environment Variables in Windows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Windows-Terminal/" class="md-nav__link">
        Windows Terminal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../wsl/" class="md-nav__link">
        WSL Cheat-Sheet
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Cloud
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Cloud" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Cloud
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Cloud_Infrastructure/" class="md-nav__link">
        Cloud Infrastructure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Amazon_Web_Services/" class="md-nav__link">
        Amazon Web Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Azure_Cloud/" class="md-nav__link">
        Microsoft Azure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Google_Cloud_Platforme/" class="md-nav__link">
        Google Cloud Platforme
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Oracle_Cloud_Infrastructure/" class="md-nav__link">
        Oracle Cloud Infrastructure
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Networking
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Networking" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Networking
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../CertManager/" class="md-nav__link">
        Cert-Manager
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Hypervisor
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Hypervisor" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Hypervisor
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Monitoring/" class="md-nav__link">
        Monitoring
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../VMware/" class="md-nav__link">
        VMware
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Proxmox-VE/" class="md-nav__link">
        Proxmox-VE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../QEMU-KVM/" class="md-nav__link">
        QEMU-KVM
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Tools
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tools" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Tools
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Centreon_Central/" class="md-nav__link">
        Centreon Central
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Nagios/" class="md-nav__link">
        Nagios
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Netbox/" class="md-nav__link">
        IPAM - Netbox
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Rhel_IDM/" class="md-nav__link">
        Rhel IDM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Guacamole/" class="md-nav__link">
        Guacamole
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../UI-path/" class="md-nav__link">
        UI-path
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../VNC_Tiger/" class="md-nav__link">
        VNC Tiger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../OpenVPN/" class="md-nav__link">
        OpenVPN
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Markdown/" class="md-nav__link">
        Markdown
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Ngrok/" class="md-nav__link">
        ngrok
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Storage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Storage" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Storage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Bareos/" class="md-nav__link">
        Bareos
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          BDD/BigData
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="BDD/BigData" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          BDD/BigData
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Cloudera/" class="md-nav__link">
        Cloudera
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Hadoop/" class="md-nav__link">
        Hadoop
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Oracle/" class="md-nav__link">
        Oracle
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../MySQL/" class="md-nav__link">
        MySQL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../DB2/" class="md-nav__link">
        IBM DB2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../MariaDB.md" class="md-nav__link">
        None
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          DevOPS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="DevOPS" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          DevOPS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Ansible_Engine/" class="md-nav__link">
        Ansible Engine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Docker/" class="md-nav__link">
        Docker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ELastiK/" class="md-nav__link">
        Elasticsearch / Logstash / Kibana
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../FreeIPA/" class="md-nav__link">
        Free IPA
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Terraform/" class="md-nav__link">
        Terraform
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Kubernetes/" class="md-nav__link">
        Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Git/" class="md-nav__link">
        Git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Perl/" class="md-nav__link">
        Perl
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Python/" class="md-nav__link">
        Python
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#exit-codes" class="md-nav__link">
    Exit codes
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="system">System</h1>
<h2 id="exit-codes">Exit codes</h2>
<ul>
<li>Contient le nom du script tel qu'il a été invoqué: <ul>
<li>
<blockquote>
<p>$0</p>
</blockquote>
</li>
</ul>
</li>
<li>L'ensembles des paramètres sous la forme d'un seul argument:<ul>
<li>
<blockquote>
<p>$*</p>
</blockquote>
</li>
</ul>
</li>
<li>L'ensemble des arguments, un argument par paramètre:<ul>
<li>
<blockquote>
<p>$@</p>
</blockquote>
</li>
</ul>
</li>
<li>Le nombre de paramètres passés au script:<ul>
<li>
<blockquote>
<p>$#</p>
</blockquote>
</li>
</ul>
</li>
<li>Le code retour de la dernière commande::<ul>
<li>
<blockquote>
<p>$?</p>
</blockquote>
</li>
</ul>
</li>
<li>Le PID su shell qui exécute le script:<ul>
<li>
<blockquote>
<p><code>$$</code></p>
</blockquote>
</li>
</ul>
</li>
<li>Le PID du dernier processus lancé en arrière-plan:<ul>
<li>
<blockquote>
<p><code>$!</code></p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h1 id="emergency">Emergency</h1>
<h2 id="grub">Grub</h2>
<ol>
<li>Reach the grub and chose the first line</li>
<li>Use 'e' to edit</li>
<li>Go to the "vmlinux" line to add '<strong>rd.break'</strong> at the end (This change is temporary)</li>
<li>Press 'CTRL+x' to exit an run it</li>
</ol>
<h2 id="rescure">Rescure</h2>
<p>This prompt spawn:</p>
<blockquote>
<p>switch_root:/#.</p>
</blockquote>
<p>Mount sysroot :</p>
<blockquote>
<p>mount -o remount rw sysroot</p>
</blockquote>
<p>Chroot into sysroot :</p>
<blockquote>
<p>chroot sysroot</p>
</blockquote>
<p>You are now able to reset root password, or edit linux things.</p>
<h4 id="selinux">Selinux</h4>
<p>⚠ Make sure SELinux allows the file changed </p>
<blockquote>
<p>touch .autorelabel
<em>This will signal SELinux on the next reboot that the filesystem has changed (the changed password) and allow the change to be loaded.</em></p>
</blockquote>
<p>Type 'exit' then 'reboot'</p>
<h1 id="network">Network</h1>
<h2 id="base-on-aptdeb">Base on APT/DEB</h2>
<p>File : <code>/etc/network/interfaces</code> :</p>
<pre><code class="language-bash"># This file describes the network interfaces available on your system
# and how to activate them. For more information, see interfaces(5).

# The loopback network interface
auto lo
iface lo inet loopback

# The primary network interface
auto eth0
iface eth0 inet static
address 10.0.0.41
netmask 24
gateway 10.0.0.0
dns-nameservers 10.0.0.1 8.8.8.8
</code></pre>
<h1 id="process">Process</h1>
<p>Lister tout les processus :</p>
<ul>
<li>a : Ayant un terminal de contrôle</li>
<li>u : Lancés par l'/es utilisateur(s)</li>
<li>x : N'ayant pas de terminal de contrôle (TTY)</li>
<li>e : Tout les processe</li>
<li>d : Tout les processes sauf ceux de la session courante</li>
<li>l : Liste longue</li>
<li>f : Full -&gt; Avoir le nom complet du processus</li>
</ul>
<h2 id="cpu">CPU</h2>
<p>Lister le nombre de processeur :</p>
<pre><code class="language-bash">nproc
</code></pre>
<h2 id="load">Load</h2>
<p>Check the load average fixed by the system:</p>
<blockquote>
<p>cat /proc/loadavg</p>
</blockquote>
<p>Verify time since the system is up:</p>
<pre><code class="language-bash">uptime
</code></pre>
<p>You could check your system processes by top/htop or glances and more one else:</p>
<pre><code class="language-bash">top
</code></pre>
<p>You can folow your CPU in real time by this command:</p>
<pre><code class="language-bash">vmstat -w 1
</code></pre>
<h1 id="service">Service</h1>
<h2 id="systemctl">Systemctl</h2>
<p>How to list enabled unit-file.</p>
<pre><code class="language-bash">systemctl list-unit-files | grep enabled
</code></pre>
<h1 id="timedate">Time/Date</h1>
<h2 id="clock">Clock</h2>
<p>How to mod sys clock ?</p>
<pre><code class="language-bash">mv /etc/localtime /etc/localtime.backup
ln -s /usr/share/zoneinfo/Europe/Paris /etc/localtime

echo &quot;Europe/Paris&quot; | tee /etc/timezone
timedatectl set-timezone Europe/Paris
hwclock -s
</code></pre>
<h1 id="account">Account</h1>
<p>Created Tuesday 25 January 2022</p>
<p>List account :</p>
<pre><code class="language-bash">find /home -maxdepth 1 -type d -group users | cut -d '/' -f3
</code></pre>
<h2 id="useradd">Useradd</h2>
<p>How to adding user ?</p>
<pre><code class="language-bash">useradd -s /sbin/nologin -G $GRP
useradd -m -G wheel -s /bin/bash $account
</code></pre>
<h2 id="lock-unlock">Lock / Unlock</h2>
<p>Check password status :</p>
<pre><code class="language-bash">passwd -S $USER
</code></pre>
<p>Status list :</p>
<ul>
<li>LK: Password locked</li>
<li>NP: No password</li>
<li>PS: Password set</li>
</ul>
<h2 id="unlock">Unlock</h2>
<p>Use the <code>-u</code> to unlock account</p>
<pre><code class="language-bash">passwd -u $USER
</code></pre>
<h2 id="lock">Lock</h2>
<p>Use the <code>-L</code> to lock account</p>
<pre><code class="language-bash">passwd -L $USER
</code></pre>
<h2 id="time-life-password">Time life password</h2>
<p>Show the account password information</p>
<pre><code class="language-bash">chage -l $USER
</code></pre>
<p>Set minimum day</p>
<pre><code class="language-bash">chage -m ${NOMBER OF DAY} ${USER}
</code></pre>
<h1 id="sudoers">Sudoers</h1>
<p>Autorisation de l’utilisateur max de supprimer dans le dossier. </p>
<pre><code class="language-bash">max ALL=NOPASSWD:/bin/rm -rf $CHEMIN_de_DOSSIER/*
</code></pre>
<p>Autorisation pour l’utilisateur matry_mc_fly de lire les fichiers dans le dossier.</p>
<pre><code class="language-bash">marty_mc_fly ALL=NOPASSWD:/usr/bin/cat /var/log/mariadb/*
</code></pre>
<h1 id="key">Key</h1>
<h2 id="pem-key">PEM Key</h2>
<p>Create pem key :</p>
<pre><code class="language-bash">Puttygen mykey.ppk -O private-openssh -o mykey.pem
</code></pre>
<h1 id="applications">Applications</h1>
<h2 id="screen">Screen</h2>
<h3 id="touchscreen">Touchscreen</h3>
<p>How to disable touchscreen at start ?
Create a new file as <code>/etc/X11/xorg.conf.d/01-no_touchscreen.conf</code> as 664 :</p>
<pre><code class="language-bash"># Written by systemd-localed(8), read by systemd-localed and Xorg. Its
# probably wise not to edit this file manually. use localectl(1) to
# instruct systemd-localed to update it
Section &quot;InputClass&quot;
Identifier &quot;Raydium catchall&quot;
MatchIsTouchscreen &quot;on&quot;
Option &quot;Ignore&quot; &quot;on&quot;
EndSection
</code></pre>
<p>Using command line :</p>
<pre><code class="language-bash">xinput disable $(xinput list | awk '/Touchscreen/ {print $5}' | cut -d &quot;=&quot; -f2)
</code></pre>
<h2 id="blank-screen">Blank Screen</h2>
<p>logind est le composant en charge de la gestion des sessions sur les systèmes avec systemd.</p>
<p>Il détermine le comportement d’un ordinateur portable lorsque l’on ferme l’écran (Lid Switch) via la variable <code>HandleLidSwitch</code> de son fichier de configuration :  <code>/etc/systemd/logind.conf</code> .</p>
<p>Sa valeur par défaut est suspend (mise en veille).</p>
<p>Les valeurs acceptées pour la variable HandleLidSwitch:</p>
<ul>
<li>ignore (ne fait rien)</li>
<li>poweroff (arrêt)</li>
<li>reboot (redémarrage)</li>
<li>halt (arrêt)</li>
<li>kexec</li>
<li>suspend (veille, le comportement par défaut)</li>
<li>hibernate (hibernation)</li>
<li>hybrid-sleep (hibernation avec conservation des données en mémoire)</li>
<li>lock (Verrouille de la session)</li>
</ul>
<p>Donc si je souhaite que mon portable reste actif lorsque l’écran est fermé:</p>
<blockquote>
<p>vim  /etc/systemd/logind.conf</p>
</blockquote>
<p>Puis on modifie le paramètre HandleLidSwitch de cette façon:</p>
<blockquote>
<h1 id="handlelidswitchsuspend">HandleLidSwitch=suspend</h1>
</blockquote>
<p>devient</p>
<blockquote>
<p>HandleLidSwitch=ignore</p>
</blockquote>
<p>Et on termine par un petit redémarrage:</p>
<blockquote>
<p>reboot</p>
</blockquote>
<p>Retirer la mise en veille lors de la fermeture du capot de l’ordinateur portable.</p>
<pre><code class="language-bash">   setterm-powersave off -blank 0
   systemctl mask sleep.target suspend.target hibernate.target hybrid-sleep.target
</code></pre>
<h2 id="lamp">lamp</h2>
<p>Apache check config :</p>
<pre><code class="language-bash">/opt/lampp/bin/httpd -t
</code></pre>
<p>Apache restart :</p>
<pre><code class="language-bash">/opt/lampp/bin/httpd -k restart
</code></pre>
<h2 id="postfix">Postfix</h2>
<p>Basic postfix configuration <code>/etc/postfix/main.cf</code> :</p>
<pre><code class="language-bash">relayhost = [smtp.gmail.com]:587
smtp_sasl_auth_enable = yes
smtp_sasl_password_maps = hash:/etc/postfix/sasl_passwd
smtp_sasl_security_options = noanonymous
</code></pre>
<h2 id="logrotate">Logrotate</h2>
<h3 id="check">Check</h3>
<pre><code class="language-bash">logrotate -d /etc/logrotate.d/httpd
</code></pre>
<h3 id="apply">Apply</h3>
<pre><code class="language-bash">logrotate -vf /etc/logrotate.d/httpd
</code></pre>
<h1 id="tools-packages">Tools &amp; Packages</h1>
<h2 id="rpm">RPM</h2>
<p>How to force installation without depedency.</p>
<pre><code class="language-bash">rpm -Uvh 
</code></pre>
<h2 id="debian">Debian</h2>
<h3 id="repository">Repository</h3>
<p>bullseye 11 sources.list</p>
<pre><code class="language-bash">deb http://deb.debian.org/debian bullseye main
deb-src http://deb.debian.org/debian bullseye main

deb http://deb.debian.org/debian-security/ bullseye-security main
deb-src http://deb.debian.org/debian-security/ bullseye-security main

deb http://deb.debian.org/debian bullseye-updates main
deb-src http://deb.debian.org/debian bullseye-updates main
</code></pre>
<h2 id="bpytop">bpytop</h2>
<p>How to isntall bpytop based on APT :</p>
<pre><code class="language-bash">apt install python3-pip
pip3 install psutil
pip3 install bpytop
</code></pre>
<h3 id="keymap">Keymap</h3>
<p>Liste:</p>
<ul>
<li>Début du mot : <code>b</code></li>
<li>Début du dexième mot en partant du mot d'origin : <code>3B</code></li>
<li>Fin du mot suivant : <code>e</code></li>
<li>Mot suivant : <code>w</code></li>
<li>Replace : <code>r</code></li>
<li>Supprimer carractère par carractère : <code>x</code></li>
<li>Supprimer à reculon carractère par carractère : <code>c</code></li>
<li>Changer (ce -&gt; changer jusqu'à la fin du mot ) : <code>c</code></li>
<li>Enregister les modifications : <code>ZZ</code></li>
<li>Enregistrer les modifications et quiter le fichier : <code>ZQ</code></li>
</ul>
<p>Répeter la dernière actions effectuée : <code>.</code></p>
<h2 id="sed">Sed</h2>
<p>Faire du sed : <code>:%s /foo/newfoo/g</code></p>
<h2 id="highlithing">Highlithing</h2>
<p>Retirer le surlignage : <code>:noh</code></p>
<h2 id="grep">Grep</h2>
<p>L'outil « grep », qui signifie « impression d’expressions régulières globales », traite le texte ligne par ligne et imprime toutes les lignes correspondant au modèle spécifié.</p>
<pre><code class="language-bash">grep infos fichiers.txt
grep -A $NUMBER_OF_LINE &quot;INFOS QU'ON CHERCHE&quot; -B $NUMBER_OF_LINE
</code></pre>
<h2 id="sed_1">Sed</h2>
<p>Ajout d'élèment à une ligne certaine.</p>
<pre><code class="language-bash">sed -i '20 a nouvel élèment' FICHIER
</code></pre>
<h4 id="remove-saut-de-ligne">Remove saut de ligne.</h4>
<pre><code class="language-bash">sed '/^$/d'
</code></pre>
<pre><code class="language-bash">sed '/^:space:*$/d'
</code></pre>
<h2 id="vim">VIM</h2>
<p>Début ou fin de fichier :</p>
<ul>
<li>Go to the top : <code>gg</code></li>
<li>Go to the buttom : <code>G</code></li>
<li>Descendre à la ligne 34 : <code>34 G</code></li>
</ul>
<p>Début ou fin de ligne :</p>
<ul>
<li>Fin de la ligne où se trouve le dernier carractère : <code>$</code> </li>
<li>Début de la ligne où se trouve le premier carractère : <code>0</code> <em>(shift+à)</em></li>
</ul>
<p>Dans vim : <code>:%s /foo/newfoo/g</code></p>
<h2 id="tr">TR</h2>
<p>Remove space :</p>
<pre><code class="language-bash">tr -d '[:blank:]'
</code></pre>
<h2 id="awk">AWK</h2>
<p>Awk command :</p>
<ul>
<li><code>grep</code> /word/ :</li>
<li>
<p>awk '/data/ {gsub("\"",""); print $2}'</p>
</li>
<li>
<p><code>gsub</code> thing to remove:</p>
</li>
<li>awk '{gsub("\"",""); print $2}'</li>
</ul>
<h2 id="find">Find</h2>
<p>Trouver tout fichier depuis l’endroit que vous souhaitez portant le nom de jacquet :</p>
<pre><code class="language-bash">find $DEPUIS_QUEL_ENDROIT -name &quot;jacquet&quot;
</code></pre>
<p>Trouver dans le dossier httpd tout fichier plus vieux de 90 jours puis les supprimer :</p>
<pre><code class="language-bash">find /var/log/httpd/ -type f -name &quot;*&quot; -mtime +90 -exec rm -f {} \;
</code></pre>
<table>
<thead>
<tr>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>Le « {} » est le résultat de la recherche du find !</td>
</tr>
</tbody>
</table>
<h1 id="storage">Storage</h1>
<h2 id="compressed-files">Compressed files</h2>
<p>Voici le détail des options :</p>
<ul>
<li>c : crée un archive.</li>
<li>z : compresse l’archive avec gzip.</li>
<li>v : mode verbeux, affiche la progression.</li>
<li>f : permet de spécifier le nom du fichier d’archive.</li>
</ul>
<h3 id="compresser">Compresser</h3>
<p>Compresser des fichiers :</p>
<pre><code class="language-bash">tar -czvf nom-de-l-archive.tar.gz /chemin/vers/répertoire-ou-fichier
</code></pre>
<h3 id="decompresser">Décompresser</h3>
<p>Pour décompresser le rar avec son passwd :</p>
<pre><code class="language-bash">rar x -hP{MOT DE PASSE} {FICHIER.RAR}
rar x -hPTEST test2.rar
</code></pre>
<h2 id="dd">DD</h2>
<p>dd nécessite de droits super utilisateur :</p>
<pre><code class="language-bash">sudo dd bs=4M if=$chemin/fichier.iso of=/dev/$disk &amp;&amp; sync
</code></pre>
<h2 id="memory">Memory</h2>
<h4 id="oracle-cloud-infrastructure">Oracle cloud infrastructure</h4>
<pre><code class="language-bash">sync &amp;&amp; echo 3 &gt; /proc/sys/vm/drop_caches
</code></pre>
<h3 id="ram">RAM</h3>
<p>List detailes :</p>
<pre><code class="language-bash">ps axo rss, comm,pid,command | cat
</code></pre>
<h2 id="lvm-logical-volume-manager">LVM - Logical Volume Manager</h2>
<h3 id="extend-partition">Extend partition</h3>
<pre><code class="language-bash">fdisk [/dev/sdX](file:///home/sboistel/Documents/Cliford/Zbook/dev/sdX)
</code></pre>
<pre><code class="language-bash">echo 1 &gt; /sys/block/sdX/device/rescan
</code></pre>
<pre><code class="language-bash">pvresize /dev/sdX2
</code></pre>
<h2 id="make-fs">Make FS</h2>
<pre><code class="language-bash">mkfs.xfs -d su=64k,sw=4 /dev/mapper/
</code></pre>
<h2 id="scan-disk">Scan Disk</h2>
<p>Rescan disk</p>
<pre><code class="language-bash">echo 1 &gt; /sys/class/scsi_disk/1\[:TAB:]/device/rescan
</code></pre>
<h3 id="create-1-file-heavy-as-1g">Create 1 file heavy as 1G</h3>
<pre><code class="language-bash">dd if=/dev/urandom of=tempfile bs=1M count=1024
</code></pre>
<h3 id="extend-volumes">Extend volumes</h3>
<pre><code class="language-bash">lvextend -L+&lt;&lt;&gt;&gt;G /dev/mapper/VOLUME
</code></pre>
<h3 id="apply-modifications">Apply modifications</h3>
<pre><code class="language-bash">resize2fs /dev/mapper/VOLUME
</code></pre>
<h3 id="reducing-an-lvm2-swap-logical-volume">Reducing an LVM2 Swap Logical Volume</h3>
<p>Disable swapping for the associated logical volume:</p>
<pre><code class="language-bash">swapoff -v /dev/VolGroup00/LogVol01
</code></pre>
<p>Reduce the LVM2 logical volume by 512 MB:</p>
<pre><code class="language-bash">lvreduce /dev/VolGroup00/LogVol01 -L -512M
</code></pre>
<p>Format the new swap space:</p>
<pre><code class="language-bash">mkswap /dev/VolGroup00/LogVol01
</code></pre>
<p>Activate swap on the logical volume:</p>
<pre><code class="language-bash">swapon -v /dev/VolGroup00/LogVol01
</code></pre>
<p>To test if the swap logical volume was successfully reduced, inspect active swap space:</p>
<pre><code class="language-bash">cat /proc/swaps
</code></pre>
<h1 id="analyse">Analyse</h1>
<h2 id="sar">SAR</h2>
<p>On trouvera les fichier de log de l'outil <strong>sysstat</strong> dans : <code>/var/log/sysstat/</code>
Chacun des fichier dans ce dossier sera normé par <code>sa$JOUR_DU_MOIS</code>.</p>
<p>Liste des paramètres :</p>
<ul>
<li>S : swap</li>
<li>r : RAM</li>
<li>R : Caches</li>
<li>u : Utilisateur</li>
</ul>
<h2 id="connection">Connection</h2>
<h3 id="user">User</h3>
<p>Check last user connection :</p>
<pre><code class="language-bash">last -15 -aFw
</code></pre>
<p>For DEB packages only :</p>
<pre><code class="language-bash">cat /var/log/auth.log
</code></pre>
<h1 id="desktop-environement">Desktop Environement</h1>
<p>Here are somes Desktop Environement tips &amp; tricks</p>
<h2 id="gnome">Gnome</h2>
<h4 id="ajouter-une-application-dans-gnom-shell">Ajouter une application dans gnom shell</h4>
<p>Ajouter un fichier .desktop dans /usr/share/appliations/MONAPPLI.desktop :</p>
<pre><code class="language-bash">[Desktop Entry]
Name=MonAppli
Comment=Descritpion de l'appli
Exec=MonAppli.sh %U
Icon=/usr/share/icons/monappli.svg
Terminal=false
Type=Application
Encoding=UTF-8
Categories=Network;Application
</code></pre>
<h4 id="modifier-une-application-existante">Modifier une application éxistante</h4>
<p>Trouver le fichier de l'application choisie, ici <code>VirtualBox</code>
Un soucis connu sur Gnome et virtualbox est que l'interface soit broken. On vient alors corrigé ceci en  changeant le style de celui-ci via la commande :</p>
<pre><code class="language-bash">VirtualBox -style Adwaita
</code></pre>
<p>On vient alors modifier le fichier <code>/usr/share/applications/virtualbox.desktop</code>
On remplace la ligne 10 <code>Exec=VirtualBox %U</code> par <code>Exec=VirtualBox -style Adwaita</code>.</p>
<h1 id="desktop-manager">Desktop Manager</h1>
<h2 id="lightdm">Lightdm</h2>
<h3 id="autologin">Autologin</h3>
<p>Editer le fichier de configuration suivant : <code>/etc/lightdm/lightdm.conf</code>
Compléter les informations attendues :</p>
<pre><code class="language-BASH">autologin-user=jdoe
</code></pre>
<h1 id="cron">cron</h1>
<p>A CRON expression is simply a string consisting of six fields that each define a specific unit of time. </p>
<p>They are written in the following format:</p>
<pre><code>{second} {minute} {hour} {day} {month} {day of the week}
</code></pre>
<h2 id="values">Values</h2>
<p>The following values are allowed within each date/time unit placeholder.</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Allowed Values</th>
<th> Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>{second}</td>
<td>0-59</td>
<td>Trigger every {second} second(s)</td>
</tr>
<tr>
<td>{minute}</td>
<td>0-59</td>
<td>Trigger every {minute} minute(s)</td>
</tr>
<tr>
<td>{hour}</td>
<td>0-23</td>
<td>Trigger every {hour} hour(s)</td>
</tr>
<tr>
<td>{day}</td>
<td>1-31</td>
<td>Trigger every {day} day(s) of month</td>
</tr>
<tr>
<td>{month}</td>
<td>1-12</td>
<td>Trigger every {month} month(s)</td>
</tr>
<tr>
<td>{day of week}</td>
<td>0-6</td>
<td>MON-SUN Trigger on specific {day of week}</td>
</tr>
</tbody>
</table>
<h2 id="special-characters">Special Characters</h2>
<p>Additionally you can also use the following special characters to build more advanced expressions:</p>
<table>
<thead>
<tr>
<th>Special Character</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>*</code></td>
<td>Trigger on tick of every time unit</td>
</tr>
<tr>
<td><code>,</code></td>
<td>List separator</td>
</tr>
<tr>
<td><code>–</code></td>
<td>Specifies a range</td>
</tr>
<tr>
<td><code>/</code></td>
<td>Defines an increment</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="examples">Examples</h2>
<p><code>0 * * * * *</code> - Executes every minute
<code>0 0 * * * *</code> - Executes every hour
<code>0 0 0 * * *</code> - Executes every day
<code>0 0 0 0 * *</code> - Executes every month
<code>0 0 0 1 1 *</code> - Executes on first day of Jan each year
<code>30 20 * * SAT</code> - Executes at 08:30pm every Saturday
<code>30 20 * * 6</code> - Executes at 08:30pm every Saturday
<code>0 */5 * * * *</code> - Executes every five minutes
<code>0 0 8-10/1 * * *</code> - Executes every hour between 8am and 10am</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>