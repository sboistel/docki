
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Docki wiki github pages">
      
      
        <meta name="author" content="BOISTEL Samuel">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>Oracle - Dockimentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#oracle" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Dockimentation" class="md-header__button md-logo" aria-label="Dockimentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Dockimentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Oracle
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Dockimentation" class="md-nav__button md-logo" aria-label="Dockimentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Dockimentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Linux" class="md-nav__link">
        Linux
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Windows
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Windows" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Windows
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Windows/" class="md-nav__link">
        Environment Variables in Windows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Windows-Terminal/" class="md-nav__link">
        Windows Terminal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../wsl/" class="md-nav__link">
        WSL Cheat-Sheet
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Cloud
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Cloud" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Cloud
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Cloud_Infrastructure/" class="md-nav__link">
        Cloud Infrastructure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Amazon_Web_Services/" class="md-nav__link">
        Amazon Web Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Azure_Cloud/" class="md-nav__link">
        Microsoft Azure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Google_Cloud_Platforme/" class="md-nav__link">
        Google Cloud Platforme
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Oracle_Cloud_Infrastructure/" class="md-nav__link">
        Oracle Cloud Infrastructure
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Networking
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Networking" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Networking
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../CertManager/" class="md-nav__link">
        Cert-Manager
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Hypervisor
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Hypervisor" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Hypervisor
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Monitoring/" class="md-nav__link">
        Monitoring
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../VMware/" class="md-nav__link">
        VMware
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Proxmox-VE/" class="md-nav__link">
        Proxmox-VE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../QEMU-KVM/" class="md-nav__link">
        QEMU-KVM
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Tools
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tools" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Tools
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Centreon_Central/" class="md-nav__link">
        Centreon Central
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Nagios/" class="md-nav__link">
        Nagios
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Netbox/" class="md-nav__link">
        IPAM - Netbox
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Rhel_IDM/" class="md-nav__link">
        Rhel IDM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Guacamole/" class="md-nav__link">
        Guacamole
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../UI-path/" class="md-nav__link">
        UI-path
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../VNC_Tiger/" class="md-nav__link">
        VNC Tiger
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../OpenVPN/" class="md-nav__link">
        OpenVPN
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Markdown/" class="md-nav__link">
        Markdown
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Ngrok/" class="md-nav__link">
        ngrok
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Storage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Storage" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Storage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Bareos/" class="md-nav__link">
        Bareos
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          BDD/BigData
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="BDD/BigData" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          BDD/BigData
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Cloudera/" class="md-nav__link">
        Cloudera
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Hadoop/" class="md-nav__link">
        Hadoop
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Oracle
      </a>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../MySQL/" class="md-nav__link">
        MySQL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../DB2/" class="md-nav__link">
        IBM DB2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../MariaDB.md" class="md-nav__link">
        None
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          DevOPS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="DevOPS" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          DevOPS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Ansible_Engine/" class="md-nav__link">
        Ansible Engine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Docker/" class="md-nav__link">
        Docker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ELastiK/" class="md-nav__link">
        Elasticsearch / Logstash / Kibana
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../FreeIPA/" class="md-nav__link">
        Free IPA
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Terraform/" class="md-nav__link">
        Terraform
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Kubernetes/" class="md-nav__link">
        Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Git/" class="md-nav__link">
        Git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Perl/" class="md-nav__link">
        Perl
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Python/" class="md-nav__link">
        Python
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="oracle">Oracle</h1>
<p>Here are somes Oracle tips &amp; tricks</p>
<h1 id="spfile">Spfile</h1>
<p>SPFILE (Fichier de paramètres persistant) est un fichier binaire recherché automatiquement au démarrage de l’instance.
Son nom par défaut est spfile<SID>.ora.
Il est situé dans $ORACLE_HOME/dbs/.
Le fichier SPFILE est recommandé par Oracle en raison de la possibilité de géré dynamiquement de nombreux paramètres d’initialisation. Il est modifié par le moteur Oracle.
PFILE (Fichier de paramètres statique) est un fichier texte recherché automatiquement au démarrage de l’instance en l’absence du fichier SPFILE.
Il est modifié manuellement par le DBA.
Son nom par défaut est : init<SID>.ora et il est situé dans $ORACLE_HOME/dbs.
Les modifications prennent effet qu’après le redémarrage de l’instance.
CRÉER UN SPFILE A PARTIR D’UN PFILE
Vous pouvez créer un fichier SPFILE à partir d’un fichier PFILE via la commande suivante (instance démarrée ou non) et ou le nom d’instance est DBA01 : </p>
<pre><code class="language-SQL">CREATE SPFILE = ‘$ORACLE_HOME/dbs/spfileDBA01.ora’ FROM PFILE = ‘$ORACLE_HOME/dbs/initDBA01.ora‘
</code></pre>
<h1 id="control-file">Control file</h1>
<p>Le fichier de contrôle est un fichier binaire, il contient des informations sur la structure physique de la base. Il est créé pendant la création de la base et il est modifié en permanence.
Ce fichier doit être toujours disponible car il est consulté; et modifié fréquemment par le serveur oracle. Et il est indispensable pour la restauration de la base.
Pour afficher les noms des fichiers de contrôle on utilise :</p>
<pre><code class="language-SQL">SHOW PARAMETER CONTROL_FILES
SELECT VALUE FROM V$PARAMETER WHERE NAME='control_files';
</code></pre>
<h1 id="redolog">Redolog</h1>
<p>Les fichiers Redo Logs servent à enregistrer toutes les modifications commitées effectuées sur le base de données.
Ils servent à protéger la base de données dans le cas d’un échec d’instance.
En cas de restauration de la base de données, on utilise les redo logs pour ‘rejouer’ les modifications qui ont eu lieu, les transactions validées (commit à la fin de la transaction) sont enregistrées dans les fichiers de données Oracle et les transactions non validées, s’il y en a, sont effacées des fichiers de données.</p>
<h2 id="data-base-file">Data base file</h2>
<p>Les fichiers physiques d’une base Oracle permettent de stocker de manière persistante les données manipulées par Oracle.</p>
<h2 id="archive-log">Archive log</h2>
<p>Quand la base est en mode NOARCHIVELOG, l’archivage des fichiers redo est désactivé.
Le fichier de contrôle indique que les groupes des fichiers redo pleins ne sont plus nécessaires.
Dès qu’ils sont inactifs après un log switch, le groupe sera disponible pour une réutilisation par la LGWR . → (lgwr écrit toutes les entrées refaites qui ont été copiées dans le tampon depuis la dernière fois.)
Le mode NOARCHIVELOG protège la base contre une défaillance d’instance et non pas contre une défaillance media.
Seulement les modifications récentes dans la base, stockés dans les groupes de fichiers redo en ligne seront disponibles pour la restauration de la base.
En mode NOARCHIVELOG, on ne peut pas sauvegarder en ligne une tablespace. Pour restaurer une base en mode NOARCHIVELOG, on est obligé de faire une sauvegarde complète quand la base est fermée.
Quand la base est en mode ARCHIVELOG, l’archivage des fichiers redo est activé.
Le fichier de contrôle de la base signale que les groupes contenant des fichiers redo pleins ne peuvent pas être utilisés par le process LGWR tant que les groupes n’ont pas été archivés.
Vérifier s’il y a présence d’Archive log :</p>
<pre><code class="language-SQL">archive log list
</code></pre>
<p>Connaître la destination de chacune d’entre-elles :</p>
<pre><code class="language-SQL">show parameter log_archive_dest
</code></pre>
<p>Passer en mode d'archivage (<em>attention à ne pas omettre de monter seulement l'instance afin d'effectuer la manipulation. Celle-ci subira donc une </em><em>relance</em>**) :</p>
<pre><code class="language-SQL">ALTER DATABASE ARCHIVELOG;
</code></pre>
<h2 id="informations">Informations</h2>
<p>Connaître les informations et version de composant oracle :</p>
<pre><code class="language-SQL">odacli describe-component
</code></pre>
<p>Connaître le nom de la base sur laquelle on est connectée :</p>
<pre><code class="language-SQL">show parameter name
</code></pre>
<p>Ou encore pour soucis de sureté :</p>
<pre><code class="language-SQL">show parameter unique
</code></pre>
<p>Connaître le owner d’une table :</p>
<pre><code class="language-SQL">select disctinct owner from all_tables;
</code></pre>
<p>Savoir si la base tourne ou non en SQL :</p>
<pre><code class="language-SQL">SELECT INSTANCE_NAME, STATUS, DATABASE_STATUS FROM V$INSTANCE;
</code></pre>
<h2 id="diag-tunning">Diag Tunning</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Interpréter</td>
<td>Syntaxe : <code>CONTROL_MANAGEMENT_PACK_ACCESS = { NONE | DIAGNOSTIC | DIAGNOSTIC+TUNING}</code></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Désactiver</td>
<td>Passon la mémoire tampon mais aussi le spfile à none</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>En tant que sysdba :</p>
<pre><code class="language-SQL">ALTER SYSTEM SET CONTROL_MANAGEMENT_PACK_ACCESS=NONE SCOPE=BOTH;
</code></pre>
<h3 id="check">Check</h3>
<ul>
<li>Vérifier s’il est activé :</li>
</ul>
<pre><code class="language-SQL">show parameter control_management_pack_access
</code></pre>
<ul>
<li>Ou encore :</li>
</ul>
<pre><code class="language-SQL">select display_value from v$parameter where name = 'control_management_pack_access';
</code></pre>
<h2 id="bring-impdp">Bring impdp</h2>
<p>Réccupérer la vue sur un import en bacground :</p>
<pre><code class="language-SQL">impdp \&quot;/ as sysdba\&quot; ATTACH=&quot;SYS_IMPORT_FULL_01&quot;
</code></pre>
<h2 id="global-prefs">Global Prefs</h2>
<p>Get Global prefs :</p>
<pre><code class="language-SQL">SELECT DBMS_STATS.get_prefs('CONCURRENT') FROM dual;
</code></pre>
<table>
<thead>
<tr>
<th>Global Perfs State</th>
<th>SQL Command</th>
</tr>
</thead>
<tbody>
<tr>
<td>True</td>
<td><code>DBMS_STATS.SET_GLOBAL_PREFS('CONCURRENT','TRUE');</code></td>
</tr>
<tr>
<td>False</td>
<td><code>DBMS_STATS.SET_GLOBAL_PREFS('CONCURRENT','FALSE');</code></td>
</tr>
</tbody>
</table>
<h2 id="lsnrctl">LSNRCTL</h2>
<p>L’utilitaire de contrôle d’écoute vous permet d’administrer des listeners.
Vous pouvez utiliser ses commandes pour exécuter des fonctions de gestion de base sur un ou plusieurs listeners.
En outre, vous pouvez afficher et modifier les paramètres.</p>
<p>Commandes possible :
- start<br />
- Stop
- Status
- Services
- Servacls
- Version
- Reload
- save_config
- Trace
- Spawn
- Quit
- Exit
- set<em>
- show</em></p>
<p>Effectuer un status du service listener : 
Il se peut que celuic-ci ne se nomme pas LISTENER, il s’agit des paramètres pas défaut :</p>
<blockquote>
<p>lsnrctl status LISTENER</p>
</blockquote>
<h2 id="odacli">ODACLI</h2>
<p>Répertorier toutes les bases de données de l’appliance :</p>
<blockquote>
<p>odacli list-databases</p>
</blockquote>
<p>Afficher les détails de la base de données :</p>
<blockquote>
<p>odacli describe-database</p>
</blockquote>
<p>Créer une nouvelle base de données :</p>
<blockquote>
<p>odacli create-database</p>
</blockquote>
<p>Supprimer une base de données :</p>
<blockquote>
<p>odacli delete-database</p>
</blockquote>
<p>Réseau :
 - On trouvera les identifiants réseau :</p>
<blockquote>
<p>odacli list-network</p>
</blockquote>
<ul>
<li>On y trouve tout les détails de ce réseau : ::<blockquote>
<p>odacli describe-ntwork -i $identifiants_réseau</p>
</blockquote>
</li>
</ul>
<h2 id="oswbba">OSWBBA</h2>
<pre><code class="language-JAVA">java -jar /opt/oracle/oak/oswbb/oswbba.jar -i /opt/oracle/oak/oswbb/archive -b Mar 18 00:00:00 2019 -e Mar 19 00:00:00 
</code></pre>
<h2 id="ressources">Ressources</h2>
<p>Afin de vérifier l’état du paramètre SESSIONS :</p>
<blockquote>
<p>SHOW parameter sessions</p>
</blockquote>
<h2 id="processes">Processes</h2>
<p>PROCESSES spécifie le nombre maximal de processus utilisateur du système d’exploitation pouvant se connecter simultanément à Oracle.
Sa valeur doit autoriser tous les processus d’arrière-plan tels que les verrous, les processus de file d’attente de travaux et les processus d’exécution parallèles.
Les valeurs par défaut des paramètres SESSIONS et TRANSACTIONS sont dérivées de ce paramètre.
Par conséquent, si vous modifiez la valeur de PROCESSES, vous devez déterminer si vous souhaitez ajuster les valeurs de ces paramètres dérivés.
Afin de vérifier l’état du paramètre PROCESSES :</p>
<blockquote>
<p>SHOW parameter processes</p>
</blockquote>
<p>Application du paramètre :</p>
<blockquote>
<p>ALTER SYSTEM SET processes=[VALUE AS INTEGER] SCOPE=SPFILE ;</p>
</blockquote>
<h2 id="transactions">Transactions</h2>
<p>TRANSACTIONS spécifie le nombre maximal de transactions simultanées.
Des valeurs plus élevées augmentent la taille du SGA et peuvent augmenter le nombre de segments de restauration alloués.
La valeur par défaut est supérieure à SESSIONS (et à son tour, PROCESSES) pour permettre les transactions récursives.</p>
<h3 id="verifier-les-parametres">Vérifier les paramètres</h3>
<p>Afin de vérifier l’état du paramètre TRANSACTIONS :</p>
<blockquote>
<p>SHOW parameter transactions</p>
</blockquote>
<p>Application du paramètre :</p>
<blockquote>
<p>ALTER SYSTEM SET transactions=[VALUE AS INTEGER] SCOPE=SPFILE ;</p>
</blockquote>
<p>⚠ Application des paramètres :
Afin d’appliquer des paramètres modifiés dans le <strong>spfile</strong>, un relance de l’instance sera requis : </p>
<pre><code class="language-SQL">shutdown immediate
startup
</code></pre>
<h2 id="account">Account</h2>
<p>Débloquer des compte vérouillé :</p>
<pre><code class="language-SQL">SQL&gt; conn / AS sysdba
Connected.
SQL&gt; ALTER USER $USER BY ******** account UNLOCK;
USER altered.
SQL&gt; ALTER USER $USER IDENTIFIED BY ******** account UNLOCK;
USER altered.
</code></pre>
<h2 id="sqlplus">SQLPLUS</h2>
<p>Paramétrage de l’interface sqlplus :</p>
<h3 id="linesize">linesize</h3>
<p>La longueur des lignes par défaut 80 caractères :</p>
<pre><code class="language-SQL">set linesize 200
</code></pre>
<h3 id="col">col</h3>
<p>Il défini un format de sortie pour une colonne particulière :</p>
<pre><code class="language-SQL">col table_name for a20
</code></pre>
<h3 id="set-pause-on">set pause on</h3>
<p>Permet une attente de RETURN pour faire défiler les lignes suivantes ( comme la commande more).</p>
<h3 id="spool">spool</h3>
<p>La sortie standard et d’erreur est redirigée dans le fichier indiqué dans la commande. La commande “spool off” ferme le fichier.
Utiliser la commande <code>SQL **start** or **@**</code> pour effectuer les script tel que .sql</p>
<h2 id="statspack">STATSPACK</h2>
<h3 id="analyser">Analyser</h3>
<p>Mise en forme du resultat :</p>
<pre><code class="language-SQL">col OWNER format a10
col SEGMENT_NAME format a60
col SEGMENT_TYPE format a15
set pagesize 1000

select owner,segment_name,segment_type,bytes/1024/1024 from dba_segments where tablespace_name = 'STATSPACK_TBS' and segment_type = 'TABLE' order by bytes desc;
</code></pre>
<h3 id="corriger">Corriger</h3>
<h4 id="1-purge-statspack">1. Purge STATSPACK</h4>
<p>Renseigner la plage d'id à purger :</p>
<pre><code class="language-SQL">DEFINE losnapid=1    -- low snap id
DEFINE hisnapid=2    -- high snap id
@?/rdbms/admin/sppurge.sql
</code></pre>
<h4 id="2-move-table">2. Move table</h4>
<p>How to move dba_segments :</p>
<pre><code class="language-SQL">select 'alter table '||owner||'.'||segment_name||' move;' from dba_segments where tablespace_name = 'STATSPACK_TBS' and segment_type = 'TABLE' order by bytes desc;
</code></pre>
<h4 id="3-rebuild-index">3. Rebuild Index</h4>
<p>How to rebuild dba_indexes :</p>
<pre><code class="language-SQL">select 'alter index '||owner||'.'||index_name||' rebuild;' from dba_indexes where status = 'UNUSABLE';
</code></pre>
<h2 id="tnsname">TNSNAME</h2>
<p>Comment la vérifier :</p>
<pre><code class="language-SQL">[oracle@oda ~]# env | grep TNS
TNS_ADMIN=/backup/TNS
</code></pre>
<p>Le fichier est donc dans <code>/backup/TNS/tnsname.ora</code>.</p>
<h3 id="configuration">Configuration:</h3>
<p>Voici un exemple de configuration :</p>
<pre><code class="language-SQL">(DESCRIPTION =
(ADDRESS = (PROTOCOL = TCP)(HOST = ``iP de la machine``)(PORT = 1521))

(CONNECT_DATA =
(SERVER = DEDICATED)
(SERVICE_NAME = ``Nom de la base``)  
)

)
</code></pre>
<h2 id="tablespace">Tablespace</h2>
<p>Know the tablesapces size :</p>
<pre><code class="language-SQL">set line 1000
set pagesize 100
col &quot;Tablespace&quot; FOR a22
col &quot;Used MB&quot; FOR 99,999,999
col &quot;Free MB&quot; FOR 99,999,999
col &quot;Total MB&quot; FOR 99,999,999

SELECT df.tablespace_name &quot;Tablespace&quot;,
totalusedspace &quot;Used MB&quot;,
(df.totalspace - tu.totalusedspace) &quot;Free MB&quot;,
df.totalspace &quot;Total MB&quot;,
round(100 * ( (df.totalspace - tu.totalusedspace)/ df.totalspace))&quot;Pct. Free&quot;,
df.MAX_SIZE/1024/1024/1024 &quot;Max Size Go&quot;
FROM
(SELECT tablespace_name,
round(SUM(bytes) / 1048576) TotalSpace, 
sum(decode(AUTOEXTENSIBLE, 'YES', MAXBYTES, BYTES)) MAX_SIZE
FROM dba_data_files 
GROUP BY tablespace_name) df,
(SELECT round(SUM(bytes)/(1024*1024)) totalusedspace, tablespace_name
FROM dba_segments 
GROUP BY tablespace_name) tu
WHERE df.tablespace_name = tu.tablespace_name;
</code></pre>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../Hadoop/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Hadoop" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Hadoop
            </div>
          </div>
        </a>
      
      
        
        <a href="../MySQL/" class="md-footer__link md-footer__link--next" aria-label="Next: MySQL" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              MySQL
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>